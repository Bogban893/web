# üöÄ –°–∏—Å—Ç–µ–º–∞ –õ–∞–π–∫–æ–≤ –∏ –û—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

## ‚ú® –ù–æ–≤—ã–µ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. **–õ–∞–π–∫–∏ –Ω–∞ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**
- ‚ù§Ô∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å—Ç–∞–≤–∏—Ç—å –ª–∞–π–∫–∏ –Ω–∞ –ª—é–±—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –°—á–µ—Ç—á–∏–∫ –ª–∞–π–∫–æ–≤ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ª–∞–π–∫–Ω—É—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Å —Å–µ—Ä–¥—Ü–µ–º, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å/—É–±—Ä–∞—Ç—å –ª–∞–π–∫

### 2. **–û—Ç–≤–µ—Ç—ã –Ω–∞ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**
- üí¨ –û—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ —á—É–∂–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –û—Ç–≤–µ—Ç—ã —Å–∫—Ä—ã—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞
- –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–û—Ç–≤–µ—Ç–∏—Ç—å" (–∏–∫–æ–Ω–∫–∞ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏) —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –æ—Ç–≤–µ—Ç—ã
- –í–Ω—É—Ç—Ä–∏ —Ä–∞–∑–¥–µ–ª–∞ –æ—Ç–≤–µ—Ç–æ–≤ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É
- –°—á–µ—Ç—á–∏–∫ –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Å–µ—Ö –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π

### 3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –û—Ç–≤–µ—Ç–∞–º–∏**
- üìå –ö–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
- –ê–≤—Ç–æ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤ –º–æ–≥—É—Ç —É–¥–∞–ª—è—Ç—å —Å–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã
- –û—Ç–≤–µ—Ç—ã —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –ª–∞–π–∫–∞—Ç—å
- –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ —Ä–∞—Å–∫—Ä—ã—Ç–∏–∏/–∑–∞–∫—Ä—ã—Ç–∏–∏ —Ä–∞–∑–¥–µ–ª–∞

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –î–µ—Ç–∞–ª–∏

### –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö
```python
# –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ Like
class Like(db.Model):
    id: Integer (–ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á)
    comment_id: Integer (–≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ Comment)
    user_id: Integer (–≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ User)
    created_at: DateTime
```

### –ù–æ–≤—ã–µ –ü–æ–ª—è –≤ Comment
```python
parent_id: Integer (–¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤)
```

### API Endpoints

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–∞–π–∫–∞
```
POST /api/comment/<comment_id>/like
Response:
{
    "success": true,
    "liked": true,          // true –µ—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω, false –µ—Å–ª–∏ —É–¥–∞–ª–µ–Ω
    "likes_count": 5        // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤ –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
}
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤
```
GET /api/comment/<comment_id>/replies
Response:
[
    {
        "id": 1,
        "text": "–¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞",
        "created_at": "21.12.2025 11:14",
        "author": "–ò–º—è –∞–≤—Ç–æ—Ä–∞",
        "avatar": "URL –∞–≤–∞—Ç–∞—Ä–∞",
        "can_delete": true,
        "likes_count": 2,
        "user_liked": false
    }
]
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
```
POST /add_reply/<parent_comment_id>
Form Data:
- text: —Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞
- page: —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 'comments')
```

## üé® –°—Ç–∏–ª–∏ –∏ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –í–∏–∑—É–∞–ª—å–Ω—ã–µ –ò–∑–º–µ–Ω–µ–Ω–∏—è
- üíñ –ó–∞–ª–∞–π–∫–∞–Ω–Ω–æ–µ —Å–µ—Ä–¥—Ü–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–º —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
- üìä –°—á–µ—Ç—á–∏–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- üéØ –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏/–∑–∞–∫—Ä—ã—Ç–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤
- üåü –õ–∏–Ω–∏—è —Å–ª–µ–≤–∞ –æ—Ç –æ—Ç–≤–µ—Ç–æ–≤ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∏—Ö —Å–≤—è–∑—å —Å –≥–ª–∞–≤–Ω—ã–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º

### CSS –ö–ª–∞—Å—Å—ã
- `.like-btn` - –∫–Ω–æ–ø–∫–∞ –ª–∞–π–∫–∞
- `.like-btn.liked` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–ª–∞–π–∫–∞–Ω–Ω–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- `.toggle-replies-btn` - –∫–Ω–æ–ø–∫–∞ –ø–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –æ—Ç–≤–µ—Ç—ã
- `.replies-section` - —Ä–∞–∑–¥–µ–ª —Å –æ—Ç–≤–µ—Ç–∞–º–∏
- `.reply-item` - –æ—Ç–¥–µ–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
- `.reply-form-container` - —Ñ–æ—Ä–º–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞

## üîí –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –±—ã—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –¥–ª—è:
  - –î–æ–±–∞–≤–ª–µ–Ω–∏—è –ª–∞–π–∫–æ–≤
  - –î–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤
  - –£–¥–∞–ª–µ–Ω–∏—è —Å–≤–æ–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤

## üìù –ü—Ä–∏–º–µ—Ä—ã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–æ–±–∞–≤–∏—Ç—å –ª–∞–π–∫ –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
```javascript
toggleLike(commentId)
```

### –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –æ—Ç–≤–µ—Ç—ã
```javascript
toggleReplies(commentId)
```

### –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ—Ç–≤–µ—Ç—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```javascript
loadReplies(commentId)
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ü—Ä–æ–±–ª–µ–º

1. **–õ–∞–π–∫–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** - —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã
2. **–û—Ç–≤–µ—Ç—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
3. **–°—á–µ—Ç—á–∏–∫–∏ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è** - –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É

## üöÄ –ë—É–¥—É—â–∏–µ –£–ª—É—á—à–µ–Ω–∏—è

- [ ] –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Å–æ –≤—Å–µ–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- [ ] –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤
- [ ] –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ª–∞–π–∫–æ–≤
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç–≤–µ—Ç–∞—Ö –Ω–∞ –≤–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
