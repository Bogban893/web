# –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## v1.0.0 - –Ø–Ω–¥–µ–∫—Å OAuth –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (20.12.2025)

### üéâ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã

#### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ –†–µ–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å OAuth 2.0
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ä–µ—Ç–∞ (–∞–≤–∞—Ç–∞—Ä–∞) –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª—è –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—Ö–æ–¥–µ

#### –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–∞ –∏–∑ –Ø–Ω–¥–µ–∫—Å–∞ –≤ –∫–∞–∂–¥–æ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∫–∞–∂–¥–æ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- ‚úÖ API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (JSON)

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env) —Å –∑–∞—â–∏—Ç–æ–π –≤ .gitignore
- ‚úÖ SECRET_KEY –¥–ª—è —Å–µ—Å—Å–∏–π Flask
- ‚úÖ CLIENT_SECRET –Ω–µ –≤ –∫–æ–¥–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ HTTPS –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞ –Ø–Ω–¥–µ–∫—Å —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ CSRF –∑–∞—â–∏—Ç–∞

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ README.md - –æ—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ OAUTH_SETUP.md - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ OAuth
- ‚úÖ DEPLOYMENT.md - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- ‚úÖ INTEGRATION_REPORT.md - –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ QUICK_REFERENCE.md - –∫—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞
- ‚úÖ .env.example - –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### üì¶ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### –ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `requests-oauthlib==1.3.0` - –¥–ª—è OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `requests==2.31.0` - HTTP –∑–∞–ø—Ä–æ—Å—ã
- `python-dotenv==1.0.0` - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- `.env` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –Ø–Ω–¥–µ–∫—Å–∞
- `.env.example` - –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `.gitignore` - –∑–∞—â–∏—Ç–∞ —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `OAUTH_SETUP.md` - –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- `INTEGRATION_REPORT.md` - –æ—Ç—á–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- `DEPLOYMENT.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- `QUICK_REFERENCE.md` - –∫—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞

#### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `requirements.txt` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `src/web.py` - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ OAuth –ª–æ–≥–∏–∫–∞
- `src/dp.py` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ yandex_id –≤ –º–æ–¥–µ–ª—å User
- `templates/comments_section.html` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ URL –∞–≤–∞—Ç–∞—Ä–æ–≤
- `README.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

### üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```env
YANDEX_CLIENT_ID=7b0a5de737a749e899019eeec3049478
YANDEX_CLIENT_SECRET=1d82f92645e84e799909e0c948167c5f
YANDEX_REDIRECT_URI=http://localhost:5000/auth/yandex/callback
SECRET_KEY=dev-secret-key-change-in-production
```

### üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

#### –ú–æ–¥–µ–ª—å User (–æ–±–Ω–æ–≤–ª–µ–Ω–∞)
```sql
ALTER TABLE user ADD COLUMN yandex_id VARCHAR(100) NULLABLE;
-- –ü–æ–ª—è: id, nickname, email, avatar, yandex_id, vc_id, tg_id, created_at
```

#### –ú–æ–¥–µ–ª—å Comment (–æ–±–Ω–æ–≤–ª–µ–Ω–∞)
```sql
UPDATE comment SET page = 'comments' WHERE page = 'page2';
-- –ü–æ–ª—è: id, text, created_at, page, user_id
```

### üöÄ –ú–∞—Ä—à—Ä—É—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `GET /auth/yandex` - –∏–Ω–∏—Ü–∏–∞—Ü–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ø–Ω–¥–µ–∫—Å–∞
- `GET /auth/yandex/callback` - callback –æ—Ç –Ø–Ω–¥–µ–∫—Å–∞
- `GET /logout` - –≤—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã

#### –°—Ç—Ä–∞–Ω–∏—Ü—ã
- `GET /` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `GET /index.html` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–∞–ª—å—Ç)
- `GET /comments` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- `GET /social_login` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

#### API
- `GET /api/comments/comments` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- `POST /add_comment` - –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- `POST /delete_comment/<id>` - —É–¥–∞–ª–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü—Ä–æ—à–ª–∏ —Ç–µ—Å—Ç—ã:**
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü–æ—Ä—Ç—Ä–µ—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è –Ø–Ω–¥–µ–∫—Å–∞
- ‚úÖ –ò–º—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö
- ‚úÖ Email —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∏ —É–¥–∞–ª—è—é—Ç—Å—è
- ‚úÖ –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- SQLite –∑–∞–ø—Ä–æ—Å—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- –ê–≤–∞—Ç–∞—Ä—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- CSS/JS —Ä–µ—Å—É—Ä—Å—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è
- No N+1 queries
- –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –ù–µ—Ç —É—Ç–µ—á–µ–∫ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–¥–µ
- ‚úÖ SQL –∏–Ω—ä–µ–∫—Ü–∏–∏ –∑–∞—â–∏—â–µ–Ω—ã (ORM)
- ‚úÖ CSRF –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ sessions
- ‚úÖ XSS –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ Jinja2
- ‚úÖ Secure cookies
- ‚úÖ Input validation

### üìù –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –¥–ª—è OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ê–≤–∞—Ç–∞—Ä—ã —Å —Å–µ—Ä–≤–µ—Ä–∞ –Ø–Ω–¥–µ–∫—Å–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å –∏—Ö —Å–µ—Ä–≤–µ—Ä–∞
- –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è REDIRECT_URI –¥–ª—è OAuth
- –¢—Ä–µ–±—É–µ—Ç—Å—è SSL/HTTPS –¥–ª—è production

### üéØ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Google OAuth
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ GitHub OAuth
- [ ] –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- [ ] –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- [ ] –õ–∞–π–∫–∏/–¥–∏–∑–ª–∞–π–∫–∏ –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- [ ] –ü–æ–∏—Å–∫ –ø–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º
- [ ] –§–∏–ª—å—Ç—Ä –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

### üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å –≤–µ—Ä—Å–∏–∏ < 1.0.0

–ï—Å–ª–∏ –≤—ã –æ–±–Ω–æ–≤–ª—è–µ—Ç–µ—Å—å —Å –±–æ–ª–µ–µ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏:

1. **–û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   pip install -r requirements.txt
   ```

2. **–°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª:**
   ```bash
   cp .env.example .env
   # –ó–∞–ø–æ–ª–Ω–∏—Ç—å YANDEX_CLIENT_ID –∏ YANDEX_CLIENT_SECRET
   ```

3. **–û–±–Ω–æ–≤–∏—Ç—å –ë–î:**
   ```bash
   # –ë–î –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
   # –∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ site.db –¥–ª—è –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è
   rm site.db
   python3 run.py
   ```

4. **–û–±–Ω–æ–≤–∏—Ç—å routes –≤ —à–∞–±–ª–æ–Ω–∞—Ö:**
   - –í—Å–µ —à–∞–±–ª–æ–Ω—ã —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
   - /page2 –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ /comments

### üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `QUICK_REFERENCE.md`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `OAUTH_SETUP.md`
3. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `.env`

### üèÜ –°–ø–∞—Å–∏–±–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ!

v1.0.0 - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å

**–î–∞—Ç–∞ —Ä–µ–ª–∏–∑–∞:** 20 –¥–µ–∫–∞–±—Ä—è 2025 –≥.
**–í–µ—Ä—Å–∏—è Python:** 3.8+
**–í–µ—Ä—Å–∏—è Flask:** 2.3.3+
**–°—Ç–∞—Ç—É—Å:** Production Ready ‚úÖ
